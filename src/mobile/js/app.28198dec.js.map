{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/SponsorBanner.vue?408f","webpack:///./src/components/TakePicture.vue?ee8c","webpack:///./src/i18n/index.js","webpack:///./src/App.vue?0a4b","webpack:///./src/components/IntroPage.vue?20e3","webpack:///./src/utils.js","webpack:///src/components/IntroPage.vue","webpack:///./src/components/IntroPage.vue?fc17","webpack:///./src/components/IntroPage.vue?41f4","webpack:///./src/components/TakePicture.vue?90a1","webpack:///src/components/TakePicture.vue","webpack:///./src/components/TakePicture.vue?a6d1","webpack:///./src/components/TakePicture.vue?adfb","webpack:///./src/components/ContentGallery.vue?4c59","webpack:///src/components/ContentGallery.vue","webpack:///./src/components/ContentGallery.vue?3a70","webpack:///./src/components/ContentGallery.vue?7302","webpack:///./src/components/CtaPopup.vue?4d10","webpack:///src/components/CtaPopup.vue","webpack:///./src/components/CtaPopup.vue?39ce","webpack:///./src/components/CtaPopup.vue?dc9f","webpack:///./src/components/CustomizePicture.vue?7f4d","webpack:///./src/components/Tooltip.vue?9def","webpack:///src/components/Tooltip.vue","webpack:///./src/components/Tooltip.vue?0f87","webpack:///./src/components/Tooltip.vue?9017","webpack:///./src/components/TextEditModal.vue?05be","webpack:///src/components/TextEditModal.vue","webpack:///./src/components/TextEditModal.vue?96fb","webpack:///./src/components/TextEditModal.vue?023c","webpack:///./src/global.js","webpack:///src/components/CustomizePicture.vue","webpack:///./src/components/CustomizePicture.vue?8ed4","webpack:///./src/components/CustomizePicture.vue?534e","webpack:///./src/components/UploadSuccess.vue?363b","webpack:///src/components/UploadSuccess.vue","webpack:///./src/components/UploadSuccess.vue?8195","webpack:///./src/components/UploadSuccess.vue?b99f","webpack:///./src/components/SponsorBanner.vue?9772","webpack:///src/components/SponsorBanner.vue","webpack:///./src/components/SponsorBanner.vue?70de","webpack:///./src/components/SponsorBanner.vue?1672","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/components/Tooltip.vue?7f31","webpack:///./src/components/UploadSuccess.vue?e3f2","webpack:///./src/components/CustomizePicture.vue?4d51","webpack:///./src/components/IntroPage.vue?d08f","webpack:///./src/assets/collage.png","webpack:///./src/components/ContentGallery.vue?a8a5","webpack:///./src/components/CtaPopup.vue?1c2b","webpack:///./src/components/TextEditModal.vue?e33f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Vue","use","VueI18n","messages","en","require","help","howto","steps","main","button","description","gallery","galleryDescription","it","sv","de","da","fr","es","i18n","locale","fallbackLocale","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","style","staticStyle","ref","on","$event","handleOnChange","directives","rawName","expression","shareUrl","getHowto","getHelpOptions","custom","cta","createdTimestamp","appState","momentClass","bundle","_e","isVisible","view","mediaSupported","introTitle","introImg","introDescription","handlePictureTaken","img","filter","sendButton","handleUpload","successMessage","content","sponsors","staticRenderFns","_v","_s","boxTitle","boxImg","goToCamera","boxDescription","isIterableArray","array","Array","isArray","setPageAttributes","keys","forEach","document","documentElement","setAttribute","drawImageCoverCanvas","ctx","vid","x","y","w","h","offsetX","offsetY","arguments","canvas","width","height","cx","cy","cw","ch","iw","videoWidth","ih","videoHeight","Math","min","nw","nh","ar","abs","drawImage","dataURItoBlob","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","blob","Blob","type","fixImageOrientation","file","callback","EXIF","getData","can","createElement","getContext","thisImage","Image","self","onload","save","orientation","getTag","styleWidth","styleHeight","translate","scale","rotate","PI","restore","picUrl","toDataURL","src","URL","createObjectURL","isMobile","a","navigator","userAgent","vendor","opera","test","substr","components","props","String","fallback","Boolean","theme","mounted","getAttribute","methods","$root","$emit","component","goBack","capture","audio","video","facingMode","innerHeight","innerWidth","init","context","$refs","handleSuccess","stream","srcObject","drawImageOnCanvas","_l","contentItem","index","url","default","class","headerImg","title","handleClick","callToAction","required","storekey","Number","trackClick","open","redirectUrl","setTimeout","hide","category","label","$SDK","analytics","track","options","show","sessionStorage","getItem","setItem","ctaOverlay","editing","filterActive","removeFilter","addFilter","btnClicked","textActive","removeTextLayer","addTextLayer","sending","upload","boxButton","text","textAreaFocused","domProps","target","composing","textToEdit","autoResize","visible","body","overflow","$nextTick","evt","stopPropagation","scrollHeight","observable","showTooltips","months","generalConfig","ctaDisplayTimeout","userTakenPicture","filterUrl","bgEditingEnabled","stage","undefined","imgLayer","textLayer","filterLayer","tr","configKonva","created","TouchEmulator","$Konva","hitOnDragEnabled","captureTouchEventsEnabled","Stage","container","Layer","add","imageObj","ratio","imgData","userPicture","image","draggable","batchDraw","destroy","toImage","mimeType","quality","layer","filterImg","crossOrigin","hammertime","$Hammer","set","ev","oldRotation","gesture","rotation","startScale","scaleX","stopDrag","delta","scaleY","simpleLabel","Label","textNode","Text","fontSize","lineHeight","fontFamily","fontStyle","align","padding","wrap","tag","Tag","preventDefault","draw","originalWidth","textEditModal","$on","credit","logo","hasSponsors","logos","onConfigReceived","initialize","loading","pageName","ctaTimeout","handleGoBack","handleCTAPopup","openNativeCamera","openBrowserCamera","computed","background","showSponsors","isHelpVisible","$t","helpHeaderImg","Promise","checkMediaSupport","mediaDevices","getUserMedia","handleMomentClass","filters","getImageUrl","ctaEnabled","initSponsors","fullSettings","showSponsor","sponsor","map","initTakenPictures","connection","initTheme","initLanguage","$i18n","language","showPage","getContentCdnLocation","pages","includes","page","uploader","click","files","File","imgToUpload","Date","toUTCString","tags","uploadContent","clearTimeout","config","productionTip","StagecastComponents","Stagecast","Konva","Hammer","render","App","$mount"],"mappings":"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","file":"js/app.28198dec.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SponsorBanner.vue?vue&type=style&index=0&id=6c7cbe7c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SponsorBanner.vue?vue&type=style&index=0&id=6c7cbe7c&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TakePicture.vue?vue&type=style&index=0&id=524919d0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TakePicture.vue?vue&type=style&index=0&id=524919d0&scoped=true&lang=scss&\"","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\n\nVue.use(VueI18n)\n\nconst messages = {\n  en: {\n    ...require('@stagecast/moment-components/lib/locale/en').default,\n    help: {\n      howto: [\n        'Take a selfie and appear in the collage!',\n        'The photo collage is created with pictures of the audience.',\n        'You can download your pictures to share them on social media.'\n      ]\n    },\n    steps: [\n      {\n        main: 'Take a selfie and appear in the collage!',\n        button: ['Take selfie'],\n        description: 'The photo collage is created with pictures of the audience.',\n        gallery: 'Your Selfies',\n        galleryDescription: 'Download your pictures to share them on social media.'\n      },\n      {\n        main: '',\n        button: ['Send to collage', 'Sending...', 'Cancel', 'Done'],\n        description: ''\n      },\n      {\n        main: 'Nice Selfie! Your photo will appear in the collage soon.',\n        button: ['Take a new selfie'],\n        description: ''\n      }\n    ]\n  },\n  it: {\n    ...require('@stagecast/moment-components/lib/locale/it').default,\n    help: {\n      howto: [\n        'Scatta un selfie per farlo apparire sul grande schermo!',\n        'Il collage verrà composto da immagini del pubblico e mostrato durante l\\'evento.',\n        'Puoi anche scaricare le tue immagini per condividerle sui social media.'\n      ]\n    },\n    steps: [\n      {\n        main: 'Scatta un selfie per farlo apparire sul grande schermo!',\n        button: ['Scatta un selfie'],\n        description: 'Il collage di foto verrà mostrato durante l\\'evento.',\n        gallery: 'Le tue foto',\n        galleryDescription: 'Scarica le immagini per condividerle sui social media.'\n      },\n      {\n        main: '',\n        button: ['Invia al collage', 'Caricamento...', 'Cancella', 'Fatto'],\n        description: ''\n      },\n      {\n        main: 'Nice Shot! La tua foto apparirà presto sul grande schermo.',\n        button: ['Scatta di nuovo'],\n        description: ''\n      }\n    ]\n  },\n  sv: {\n    ...require('@stagecast/moment-components/lib/locale/sv').default,\n    help: {\n      howto: [\n        'Tag en selfie för att synas i kollaget!',\n        'Fotokollaget skapas av bilder från publiken.',\n        'Du kan ladda ned dina bilder och dela dem på sociala media.'\n      ]\n    },\n    steps: [\n      {\n        main: 'Ta en selfie för att synas på den stora skärmen!',\n        button: ['Ta selfie'],\n        description: 'Fotokollaget visas på den stora skärmen på eventet',\n        gallery: 'Dina selfies',\n        galleryDescription: 'Ladda ned dina bilder för att dela dem på sociala media.'\n      },\n      {\n        main: '',\n        button: ['Skicka till kollage', 'Skickar...', 'Avbryt', 'Gjort'],\n        description: ''\n      },\n      {\n        main: 'Fin selfie! Ditt foto kommer synas i kollaget snart.',\n        button: ['Ta en till selfie'],\n        description: ''\n      }\n    ]\n  },\n  de: {\n    ...require('@stagecast/moment-components/lib/locale/de').default,\n    help: {\n      howto: [\n        'Mache ein Selfie und erscheine in der Collage!',\n        'Die Fotocollage wird aus Bildern des Publikums erstellt.',\n        'Du kannst deine Bilder herunterladen, um sie in deinen Sozialen Medien zu teilen.'\n      ]\n    },\n    steps: [\n      {\n        main: 'Mache ein Selfie und erscheine auf der großen Leinwand!',\n        button: ['Mache ein Selfie'],\n        description: 'Die Fotocollage erscheint auf der Leinwand im Veranstaltungsort.',\n        gallery: 'Deine Selfies',\n        galleryDescription: 'Lade deine Bilder herunter, um sie in Sozialen Medien zu teilen.'\n      },\n      {\n        main: '',\n        button: ['Zur Collage senden', 'Wird gesendet...', 'Abbrechen', 'Fertig'],\n        description: ''\n      },\n      {\n        main: 'Perfekt getroffen! Dein Foto erscheint in der Collage in Kürze!',\n        button: ['Mache ein neues Selfie'],\n        description: ''\n      }\n    ]\n  },\n  da: {\n    ...require('@stagecast/moment-components/lib/locale/da').default,\n    help: {\n      howto: [\n        'Tag en selfie og dukk op i collagen!',\n        'Fotocollagen er oprettet med billeder af publikum.',\n        'Du kan downloade dine billeder for at dele dem på sociale medier.'\n      ]\n    },\n    steps: [\n      {\n        main: 'Tag en selfie og dukk op i collagen!',\n        button: ['Tag selfie'],\n        description: 'Fotocollagen er oprettet med billeder af publikum.',\n        gallery: 'Dine selfies',\n        galleryDescription: 'Download dine billeder for at dele dem på sociale medier.'\n      },\n      {\n        main: '',\n        button: ['Send til collage', 'Afsendelse...', 'Annuller', 'Hecho'],\n        description: ''\n      },\n      {\n        main: 'Dejlig selfie! Dit billede vises snart i collagen.',\n        button: ['Tag en ny selfie'],\n        description: ''\n      }\n    ]\n  },\n  fr: {\n    ...require('@stagecast/moment-components/lib/locale/fr').default,\n    help: {\n      howto: [\n        'Prenez un selfie et apparaissez dans le collage!',\n        'Le collage photo est créé avec des images du public.',\n        'Vous pouvez télécharger vos photos pour les partager sur les réseaux sociaux.'\n      ]\n    },\n    steps: [\n      {\n        main: 'Prenez un selfie et apparaissez dans le collage!',\n        button: ['Prenez un selfie'],\n        description: 'Le collage photo est créé avec des images du public.',\n        gallery: 'Vos selfies',\n        galleryDescription: 'Téléchargez vos photos pour les partager sur les réseaux sociaux.'\n      },\n      {\n        main: '',\n        button: ['Envoyer au collage', 'Envoi en cours...', 'Annuler', 'Fait'],\n        description: ''\n      },\n      {\n        main: 'Jolie photo! Votre photo apparaîtra bientôt dans le collage.',\n        button: ['Prenez un nouveau selfie'],\n        description: ''\n      }\n    ]\n  },\n  es: {\n    ...require('@stagecast/moment-components/lib/locale/es').default,\n    help: {\n      howto: [\n        '¡Hazte una selfie y aparece en el collage!',\n        'El collage de fotos se crea con imágenes de la audiencia.',\n        'Puede descargar sus imágenes para compartirlas en las redes sociales.'\n      ]\n    },\n    steps: [\n      {\n        main: '¡Hazte una selfie y aparece en el collage!',\n        button: ['Tomar selfie'],\n        description: 'El collage de fotos se crea con imágenes de la audiencia.',\n        gallery: 'Tus selfies',\n        galleryDescription: 'Descarga tus imágenes para compartirlas en las redes sociales.'\n      },\n      {\n        main: '',\n        button: ['Enviar a collage', 'Enviando...', 'Cancelar', 'Hecho'],\n        description: ''\n      },\n      {\n        main: '¡Bonito Selfie! Tu foto aparecerá en el collage pronto.',\n        button: ['Toma una nueva selfie'],\n        description: ''\n      }\n    ]\n  }\n}\n\nconst i18n = new VueI18n({\n  locale: 'en',\n  fallbackLocale: 'en',\n  messages\n})\n\nexport default i18n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-component\",attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"app-background\",style:(_vm.background)}),_c('div',{staticClass:\"img-uploader-wrap\",staticStyle:{\"display\":\"none\"}},[_c('input',{ref:\"uploader\",attrs:{\"type\":\"file\",\"name\":\"uploader\",\"id\":\"uploader\",\"accept\":\"image/*\",\"capture\":\"user\"},on:{\"change\":function($event){return _vm.handleOnChange($event)}}})]),_c('div',{staticClass:\"inner\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isHelpVisible),expression:\"isHelpVisible\"}],staticClass:\"help-section\"},[_c('sc-help-popup',{ref:\"helpPopup\",attrs:{\"share\":_vm.shareUrl,\"howto\":_vm.getHowto,\"options\":_vm.getHelpOptions}}),(_vm.custom.ctaEnabled)?_c('cta-popup',{ref:\"ctaPopup\",attrs:{\"cta\":_vm.custom.cta,\"storekey\":_vm.createdTimestamp,\"bundle\":_vm.appState.momentClass.bundle}}):_vm._e()],1),(_vm.isVisible('intro'))?_c('intro-page',{attrs:{\"fallback\":!_vm.view.mediaSupported,\"boxTitle\":_vm.custom.introTitle,\"boxImg\":_vm.custom.introImg,\"boxDescription\":_vm.custom.introDescription}}):_vm._e(),(_vm.isVisible('camera'))?_c('take-picture',{on:{\"pictureTaken\":function($event){return _vm.handlePictureTaken($event)}}}):_vm._e(),(_vm.isVisible('customize'))?_c('customize-picture',{attrs:{\"userTakenPicture\":_vm.img,\"filterUrl\":_vm.custom.filter,\"boxButton\":_vm.custom.sendButton},on:{\"upload\":function($event){return _vm.handleUpload($event)}}}):_vm._e(),(_vm.isVisible('summary'))?_c('upload-success',{attrs:{\"fallback\":!_vm.view.mediaSupported,\"boxTitle\":_vm.custom.successMessage}}):_vm._e(),(_vm.isVisible('summary', 'intro'))?_c('content-gallery',{attrs:{\"content\":_vm.appState.content}}):_vm._e(),(_vm.showSponsors)?_c('sponsor-banner',{attrs:{\"sponsors\":_vm.sponsors}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-positioner\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"box-body text-center\"},[_c('h1',{staticClass:\"mainText\"},[_vm._v(_vm._s(_vm.boxTitle ? _vm.boxTitle : _vm.t('steps.0.main')))]),(_vm.boxImg)?_c('img',{staticClass:\"box-img\",attrs:{\"src\":_vm.boxImg,\"alt\":\"Collage\"}}):_c('img',{staticClass:\"box-img\",attrs:{\"src\":require(\"../assets/collage.png\"),\"alt\":\"Collage\"}})]),_c('div',{staticClass:\"box-footer\"},[_c('button',{staticClass:\"btn openCameraBtn\",on:{\"click\":function($event){return _vm.goToCamera($event)}}},[_c('img',{attrs:{\"src\":(\"./assets/icons/camera-\" + (_vm.view.theme) + \".icon.svg\"),\"alt\":\"\"}}),_c('span',{},[_vm._v(_vm._s(_vm.t('steps.0.button.0')))])]),_c('div',{staticClass:\"infoText\"},[_vm._v(_vm._s(_vm.boxDescription ? _vm.boxDescription : _vm.t('steps.0.description')))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Checks whether an array is itarable\n */\nexport function isIterableArray (array) {\n  return Array.isArray(array) && !!array.length\n}\n\n/**\n * Easy way to access a deep object property, witout having to check for null or undefined\n */\nexport function getObjectProp (obj, path) {\n  return path.reduce((accumulator, currentValue, i, array) => {\n    if (typeof accumulator === 'object') {\n      return accumulator[currentValue]\n    }\n    array.splice(1)\n    return undefined\n  }, obj)\n}\n\n/**\n * Add an attribute to the document element (HTML tag)\n */\nexport function setPageAttributes (attrs) {\n  Object.keys(attrs).forEach(key => {\n    document.documentElement.setAttribute(key, attrs[key])\n  })\n}\n\n/**\n * Retries a Promise \"attempts\" times.\n */\nexport function retry (promise, attempts) {\n  let counter = 0\n  return promise.catch(err => {\n    counter++\n    if (counter < attempts) {\n      console.warn('retry call...') //eslint-disable-line\n      return retry(promise, attempts - counter)\n    }\n    return Promise.reject(err)\n  })\n}\n\n/**\n * Custom debounce implementation, to collect subsequent user inputs and retun only the last event.\n */\nexport function debounce (fn, delay) {\n  var timeoutId = null\n  return function () {\n    clearTimeout(timeoutId)\n    var args = arguments\n    var self = this\n    timeoutId = setTimeout(function () {\n      fn.apply(self, args)\n    }, delay)\n  }\n}\n\nexport function getImagePosition (img, offsetX, offsetY) {\n  var w = window.innerWidth\n  var h = window.innerHeight\n  var iw = img.width\n  var ih = img.height\n  var r = Math.min(w / iw, h / ih)\n  var nw = iw * r // new prop. width\n  var nh = ih * r // new prop. height\n  var cx\n  var cy\n  var cw\n  var ch\n  var ar = 1\n\n  // decide which gap to fill\n  if (nw < w) ar = w / nw\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh // updated\n  nw *= ar\n  nh *= ar\n\n  // calc source rectangle\n  cw = iw / (nw / w)\n  ch = ih / (nh / h)\n\n  cx = (iw - cw) * offsetX\n  cy = (ih - ch) * offsetY\n\n  // make sure source rectangle is valid\n  if (cx < 0) cx = 0\n  if (cy < 0) cy = 0\n  if (cw > iw) cw = iw\n  if (ch > ih) ch = ih\n\n  return { cx, cy }\n}\n/**\n * By Ken Fyrstenberg Nilsen\n * drawImageProp(context, image [, x, y, width, height [,offsetX, offsetY]])\n * If image and context are only arguments rectangle will equal canvas\n*/\nexport function drawImageCoverCanvas (ctx, vid, x, y, w, h, offsetX, offsetY) {\n  if (arguments.length === 2) {\n    x = y = 0\n    w = ctx.canvas.width\n    h = ctx.canvas.height\n  }\n\n  // default offset is center\n  offsetX = typeof offsetX === 'number' ? offsetX : 0.5\n  offsetY = typeof offsetY === 'number' ? offsetY : 0.5\n\n  // keep bounds [0.0, 1.0]\n  if (offsetX < 0) offsetX = 0\n  if (offsetY < 0) offsetY = 0\n  if (offsetX > 1) offsetX = 1\n  if (offsetY > 1) offsetY = 1\n\n  // var iw = vid.width\n  // var ih = vid.height\n  var iw = vid.videoWidth\n  var ih = vid.videoHeight\n  var r = Math.min(w / iw, h / ih)\n  var nw = iw * r // new prop. width\n  var nh = ih * r // new prop. height\n  var cx\n  var cy\n  var cw\n  var ch\n  var ar = 1\n\n  // decide which gap to fill\n  if (nw < w) ar = w / nw\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh // updated\n  nw *= ar\n  nh *= ar\n\n  // calc source rectangle\n  cw = iw / (nw / w)\n  ch = ih / (nh / h)\n\n  cx = (iw - cw) * offsetX\n  cy = (ih - ch) * offsetY\n\n  // make sure source rectangle is valid\n  if (cx < 0) cx = 0\n  if (cy < 0) cy = 0\n  if (cw > iw) cw = iw\n  if (ch > ih) ch = ih\n\n  // fill image in dest. rectangle\n  ctx.drawImage(vid, cx, cy, cw, ch, x, y, w, h)\n}\n\nexport function dataURItoBlob (dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(',')[1])\n\n  // separate out the mime component\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n\n  // write the bytes of the string to an ArrayBuffer\n  var ab = new ArrayBuffer(byteString.length)\n\n  // create a view into the buffer\n  var ia = new Uint8Array(ab)\n\n  // set the bytes of the buffer to the correct values\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i)\n  }\n\n  // write the ArrayBuffer to a blob, and you're done\n  var blob = new Blob([ab], { type: mimeString })\n  return blob\n}\n\nexport function fixImageOrientation (file, callback) {\n  EXIF.getData(file, function() { //eslint-disable-line\n\n    var can = document.createElement('canvas')\n    var ctx = can.getContext('2d')\n    var thisImage = new Image()\n    var self = this\n\n    thisImage.onload = function () {\n      // if browser supports latest exif bug fix, do nothing, else rotate the pictures accordingly\n      if ('imageOrientation' in thisImage.style) {\n        can.width = thisImage.width\n        can.height = thisImage.height\n        ctx.save()\n      } else {\n        var orientation = EXIF.getTag(self, 'Orientation') // eslint-disable-line\n        can.width = thisImage.width\n        can.height = thisImage.height\n        ctx.save()\n\n        var width = can.width; var styleWidth = can.style.width\n        var height = can.height; var styleHeight = can.style.height\n\n        if (orientation && !('imageOrientation' in thisImage.style)) {\n          // invert height and width\n          if (orientation > 4 && orientation < 9) {\n            can.width = height; can.style.width = styleHeight\n            can.height = width; can.style.height = styleWidth\n          }\n          switch (orientation) {\n            case 2: ctx.translate(width, 0); ctx.scale(-1, 1); break\n            case 3: ctx.translate(width, height); ctx.rotate(Math.PI); break\n            case 4: ctx.translate(0, height); ctx.scale(1, -1); break\n            case 5: ctx.rotate(0.5 * Math.PI); ctx.scale(1, -1); break\n            case 6: ctx.rotate(0.5 * Math.PI); ctx.translate(0, -height); break\n            case 7: ctx.rotate(0.5 * Math.PI); ctx.translate(width, -height); ctx.scale(-1, 1); break\n            case 8: ctx.rotate(-0.5 * Math.PI); ctx.translate(-width, 0); break\n          }\n        }\n      }\n\n      ctx.drawImage(thisImage, 0, 0)\n      ctx.restore()\n      const picUrl = can.toDataURL('image/jpeg')\n      callback(picUrl)\n    }\n\n    thisImage.src = URL.createObjectURL(file)\n  })\n}\n\nexport function isMobile () {\n  const a = navigator.userAgent || navigator.vendor || window.opera\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) { //eslint-disable-line\n    return true\n  }\n  return false\n}\n","<template>\n  <div class=\"box-positioner\">\n    <div class=\"box\">\n      <div class=\"box-body text-center\">\n        <h1 class=\"mainText\">{{ boxTitle ? boxTitle : t('steps.0.main') }}</h1>\n        <img v-if=\"boxImg\" class=\"box-img\" :src=\"boxImg\" alt=\"Collage\">\n        <img v-else class=\"box-img\" src=\"../assets/collage.png\" alt=\"Collage\">\n      </div>\n      <div class=\"box-footer\">\n        <button class=\"btn openCameraBtn\" @click=\"goToCamera($event)\">\n          <img :src=\"`./assets/icons/camera-${view.theme}.icon.svg`\" alt=\"\">\n          <span class=\"\">{{ t('steps.0.button.0') }}</span>\n        </button>\n        <div class=\"infoText\">{{ boxDescription ? boxDescription : t('steps.0.description') }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { isMobile } from '../utils'\n\nexport default {\n  name: 'IntroPage',\n  components: {},\n  props: {\n    boxTitle: String,\n    boxDescription: String,\n    boxImg: String,\n    fallback: Boolean\n  },\n  data: function () {\n    return {\n      isMobile: false,\n      view: {\n        theme: 'light'\n      }\n    }\n  },\n  mounted: function () {\n    this.isMobile = isMobile()\n    this.view.theme = document.documentElement.getAttribute('theme')\n  },\n  methods: {\n    goToCamera () {\n      if (this.fallback || this.isMobile) {\n        this.$root.$emit('openNativeCamera', true)\n      } else {\n        this.$root.$emit('openBrowserCamera', true)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .box {\n    margin: auto;\n    box-shadow: 0px 4px 20px 8px rgba(0, 0, 0, 0.25);\n    max-width: 500px;\n    background-color: var(--bg-color-2);\n    border-radius: 10px;\n    margin-bottom: 20px;\n    padding: 24px;\n  }\n\n  .openCameraBtn {\n    width: 100%;\n    background: var(--btn-color-1);\n    color: var(--btn-text-color-1);\n  }\n\n  .mainText {\n    text-align: center;\n    font-weight: 600;\n    font-size: 22px;\n    margin-bottom: 24px;\n  }\n\n  .infoText {\n    font-size: 14px;\n    margin-top: 16px;\n    text-align: center;\n    color: var(--text-color-2);\n  }\n\n  .box-body {\n    padding: 16px 0px;\n  }\n\n  .box-footer {\n    margin-top: auto;\n  }\n\n  .box-img {\n    max-width: 100%;\n    margin: auto auto 0 auto;\n    max-height: 280px;\n  }\n\n  .text-center {\n    text-align: center;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IntroPage.vue?vue&type=template&id=45d35ee4&scoped=true&\"\nimport script from \"./IntroPage.vue?vue&type=script&lang=js&\"\nexport * from \"./IntroPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IntroPage.vue?vue&type=style&index=0&id=45d35ee4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45d35ee4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-container\"},[_c('div',{staticClass:\"video-wrap\"},[_c('video',{ref:\"video\",attrs:{\"id\":\"video\",\"playsinline\":\"\",\"autoplay\":\"\"}})]),_c('div',{staticClass:\"controller\"},[_c('div',{staticClass:\"controller-bg\"}),_c('button',{staticClass:\"goback btn btn-small btn-transparent text-white\",on:{\"click\":function($event){return _vm.goBack()}}},[_vm._v(_vm._s(_vm.t('steps.1.button.2')))]),_c('button',{attrs:{\"id\":\"snap\"},on:{\"click\":function($event){return _vm.capture($event)}}},[_c('div',{staticClass:\"inner\"})])]),_c('div',{staticClass:\"canvas-positioner\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box-container\">\n    <div class=\"video-wrap\">\n      <video ref=\"video\" id=\"video\" playsinline autoplay></video>\n    </div>\n    <!-- Trigger canvas web API -->\n    <div class=\"controller\">\n      <div class=\"controller-bg\"></div>\n      <button class=\"goback btn btn-small btn-transparent text-white\" @click=\"goBack()\">{{ t('steps.1.button.2') }}</button>\n      <button id=\"snap\" @click=\"capture($event)\">\n        <div class=\"inner\"></div>\n      </button>\n    </div>\n    <!-- Webcam video snapshot -->\n    <div class=\"canvas-positioner\">\n      <canvas ref=\"canvas\" id=\"canvas\"></canvas>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { drawImageCoverCanvas } from '../utils'\n\nconst constraints = {\n  audio: false,\n  video: {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Media_Streams_API/Constraints#Example_Constraint_exerciser\n    // https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/facingMode\n    // https://stackoverflow.com/questions/37848494/is-it-possible-to-control-the-camera-light-on-a-phone-via-a-website\n    // deviceId: camera.deviceId,\n    facingMode: ['user', 'environment'],\n    // resizeMode: 'crop-and-scale',\n    height: window.innerHeight,\n    width: window.innerWidth\n  }\n}\n\nexport default {\n  name: 'TakePicture',\n  components: {},\n  props: {},\n  data: function () {\n    return {\n    }\n  },\n  mounted: function () {\n    this.init()\n    this.context = this.$refs.canvas.getContext('2d')\n  },\n  methods: {\n    async init () {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia(constraints)\n        this.handleSuccess(stream)\n      } catch (e) {}\n    },\n    goBack () {\n      this.$root.$emit('goToIntro', true)\n    },\n    handleSuccess (stream) {\n      window.stream = stream\n      this.$refs.video.srcObject = stream\n      // window.setTimeout(() => {\n      //   this.drawImageOnCanvas()\n      // }, 500)\n    },\n    capture () {\n      this.drawImageOnCanvas()\n      const picUrl = this.$refs.canvas.toDataURL('image/jpeg')\n      this.$emit('pictureTaken', picUrl)\n    },\n    drawImageOnCanvas () {\n      this.$refs.canvas.width = window.innerWidth\n      this.$refs.canvas.height = window.innerHeight\n      this.context.translate(window.innerWidth, 0)\n      this.context.scale(-1, 1)\n      drawImageCoverCanvas(this.context, this.$refs.video, 0, 0, window.innerWidth, window.innerHeight, 0.5, 0.5)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n  .canvas-positioner {\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    width: 100%;\n    height: 100vh;\n    overflow: hidden;\n  }\n  #canvas {\n    width: calc(100% + 14px);\n    height: calc(100vh + 14px);\n    position: relative;\n    top: -7px;\n    left: -7px;\n  }\n  .video-wrap {\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    overflow: hidden;\n    transform: scale(-1,1);\n    position: relative;\n    z-index: 2;\n  }\n  .controller {\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    text-align: center;\n    width: 100%;\n    max-width: 500px;\n    bottom: 20px;\n    box-sizing: border-box;\n    z-index: 3;\n\n    .goback {\n      position: absolute;\n      left: 10px;\n      bottom: 8px;\n      z-index: 3;\n    }\n\n    #snap {\n      position: relative;\n      z-index: 3;\n      height: 54px;\n      width: 54px;\n      background: var(--bg-color-2);\n      border-radius: 50%;\n      border: 2px solid var(--bg-color-2-inverted);\n      box-shadow: 0px 0px 0px 7px var(--bg-color-2);\n      outline: none;\n      transition: all 0.3s ease-out;\n\n      &:active {\n        transform: scale(0.90);\n      }\n    }\n  }\n\n  .controller-bg {\n    background: linear-gradient(transparent,  #171717);\n    width: 100%;\n    left: 0;\n    right: 0;\n    bottom: -20px;\n    height: 90px;\n    position: absolute;\n    z-index: 2;\n    user-select: none;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TakePicture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TakePicture.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TakePicture.vue?vue&type=template&id=524919d0&scoped=true&\"\nimport script from \"./TakePicture.vue?vue&type=script&lang=js&\"\nexport * from \"./TakePicture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TakePicture.vue?vue&type=style&index=0&id=524919d0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"524919d0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.content && _vm.content.length)?_c('div',{staticStyle:{\"padding\":\"10px 16px 0 16px\"}},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"box-header\"},[_c('h1',{staticClass:\"box-title\"},[_vm._v(_vm._s(_vm.t('steps.0.gallery')))]),_c('div',{staticClass:\"box-description\"},[_vm._v(_vm._s(_vm.t('steps.0.galleryDescription')))])]),_c('div',{staticClass:\"box-body flex\"},_vm._l((_vm.content),function(contentItem,index){return _c('div',{key:index,staticClass:\"user-content\"},[_c('img',{attrs:{\"src\":contentItem.url,\"alt\":index}}),_c('div',{staticClass:\"actions\"},[_c('a',{staticClass:\"btn btn-small btn-inverted\",attrs:{\"href\":contentItem.url,\"download\":\"\"}},[_c('img',{attrs:{\"src\":(\"./assets/icons/download-\" + (_vm.view.theme === 'light' ? 'dark' : 'light') + \".icon.svg\"),\"alt\":\"download\"}})])])])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"padding: 10px 16px 0 16px;\" v-if=\"content && content.length\">\n    <div class=\"box\">\n      <div class=\"box-header\">\n        <h1 class=\"box-title\">{{ t('steps.0.gallery') }}</h1>\n        <div class=\"box-description\">{{ t('steps.0.galleryDescription') }}</div>\n      </div>\n      <div class=\"box-body flex\">\n        <div class=\"user-content\" v-for=\"(contentItem, index) in content\" v-bind:key=\"index\">\n          <img :src=\"contentItem.url\" :alt=\"index\" />\n          <div class=\"actions\">\n            <a class=\"btn btn-small btn-inverted\" :href=\"contentItem.url\" download>\n              <img :src=\"`./assets/icons/download-${view.theme === 'light' ? 'dark' : 'light'}.icon.svg`\"  alt=\"download\">\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ContentGallery',\n  components: {},\n  props: {\n    content: {\n      type: Array,\n      default: function () {\n        return []\n      }\n    }\n  },\n  data: function () {\n    return {\n      view: {\n        theme: 'light'\n      }\n    }\n  },\n  mounted: function () {\n    this.view.theme = document.documentElement.getAttribute('theme')\n  },\n  methods: {}\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .box {\n    margin: auto;\n    box-shadow: 0px 4px 20px 8px rgba(0, 0, 0, 0.25);\n    max-width: 500px;\n    background-color: var(--bg-color-2);\n    border-radius: 10px;\n    margin-bottom: 20px;\n\n    .box-header {\n      .box-description {\n        text-align: center;\n        padding: 0 16px;\n      }\n    }\n    .box-title {\n      text-align: center;\n      font-size: 22px;\n      padding: 24px 16px 8px 16px;\n      margin: 0;\n\n      span {\n        font-weight: $font-weight-normal;\n      }\n\n      .box-title-sub {\n        opacity: 0.5;\n      }\n    }\n    .box-body {\n      padding: 16px;\n    }\n  }\n\n  .flex {\n    display: flex;\n    width: 100%;\n    flex-flow: row wrap;\n    align-items: flex-start;\n  }\n\n  .user-content {\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 0 0 100%;\n    max-width: 100%;\n    box-sizing: border-box;\n    padding: 8px;\n\n    & > img {\n      width: 100%;\n      object-fit: contain;\n      border-radius: 4px;\n    }\n\n    .actions {\n      text-align: right;\n      margin-top: 8px;\n    }\n  }\n\n  @media screen and (min-width: 320px) {\n    .user-content {\n      flex: 0 0 49.9%;\n      max-width: 49.9%;\n    }\n  }\n  @media screen and (min-width: 400px) {\n    .user-content {\n      flex: 0 0 33.3%;\n      max-width: 33.3%;\n    }\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentGallery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentGallery.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentGallery.vue?vue&type=template&id=3a13cb1a&scoped=true&\"\nimport script from \"./ContentGallery.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentGallery.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContentGallery.vue?vue&type=style&index=0&id=3a13cb1a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a13cb1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"cta-box\"},[_c('sc-popup-overlay',{ref:\"ctaOverlay\",staticClass:\"cta-overlay\",attrs:{\"canDismiss\":true}},[(_vm.cta.headerImg)?_c('div',{staticClass:\"header-info\",class:{ 'with-image': _vm.cta.headerImg }},[_c('img',{attrs:{\"src\":_vm.cta.headerImg,\"alt\":\"\"}})]):_vm._e(),_c('div',{staticClass:\"bottom-padder\"},[_c('div',{staticClass:\"moment-infos\"},[(_vm.cta.title)?_c('div',{staticClass:\"cta-headline\"},[_vm._v(\" \"+_vm._s(_vm.cta.title)+\" \")]):_vm._e(),(_vm.cta.description)?_c('div',{staticClass:\"cta-text\"},[_vm._v(\" \"+_vm._s(_vm.cta.description)+\" \")]):_vm._e()])]),_c('div',{staticClass:\"cta-button-overlay\"},[_c('button',{staticClass:\"main-button\",on:{\"click\":function($event){return _vm.handleClick()}}},[_vm._v(\" \"+_vm._s(_vm.cta.callToAction || 'Go to Website')+\" \"),_c('svg',{staticClass:\"icon icon-right\",attrs:{\"width\":\"22\",\"height\":\"21\",\"viewBox\":\"0 0 22 21\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.2678 19.1097H1.96743V5.78748H10.6378L12.2757 4.14951H1.13752C0.678891 4.14951 0.307617 4.52078 0.307617 4.97941V19.9396C0.307617 20.3982 0.678891 20.7695 1.13752 20.7695H16.0758C16.5345 20.7695 16.9057 20.3982 16.9057 19.9396V8.80135L15.2678 10.4393V19.1097Z\",\"fill\":\"var(--btn-text-color-1)\"}}),_c('path',{attrs:{\"d\":\"M20.2473 0H14.2851C13.8265 0 13.4552 0.371274 13.4552 0.829906C13.4552 1.28854 13.8265 1.65981 14.2851 1.65981H18.2599L9.85165 10.0681C9.52406 10.3957 9.52406 10.898 9.85165 11.2256C10.0045 11.3785 10.2229 11.4658 10.4413 11.4658C10.6597 11.4658 10.8563 11.3785 11.031 11.2256L19.4393 2.79547V6.77029C19.4393 7.22892 19.8105 7.60019 20.2692 7.60019C20.7278 7.60019 21.0991 7.22892 21.0991 6.77029V0.829906C21.0772 0.371274 20.706 0 20.2473 0Z\",\"fill\":\"var(--btn-text-color-1)\"}})])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"cta-box\">\n    <sc-popup-overlay class=\"cta-overlay\" ref=\"ctaOverlay\" :canDismiss=\"true\">\n      <div v-if=\"cta.headerImg\" class=\"header-info\" :class=\"{ 'with-image': cta.headerImg }\">\n        <img  :src=\"cta.headerImg\" alt=\"\">\n      </div>\n      <div class=\"bottom-padder\">\n        <div class=\"moment-infos\">\n          <div class=\"cta-headline\" v-if=\"cta.title\">\n            {{ cta.title }}\n          </div>\n          <div class=\"cta-text\" v-if=\"cta.description\">\n            {{ cta.description }}\n          </div>\n        </div>\n      </div>\n      <div class=\"cta-button-overlay\">\n        <button class=\"main-button\" @click=\"handleClick()\">\n          {{ cta.callToAction || 'Go to Website' }}\n          <svg class=\"icon icon-right\" width=\"22\" height=\"21\" viewBox=\"0 0 22 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M15.2678 19.1097H1.96743V5.78748H10.6378L12.2757 4.14951H1.13752C0.678891 4.14951 0.307617 4.52078 0.307617 4.97941V19.9396C0.307617 20.3982 0.678891 20.7695 1.13752 20.7695H16.0758C16.5345 20.7695 16.9057 20.3982 16.9057 19.9396V8.80135L15.2678 10.4393V19.1097Z\" fill=\"var(--btn-text-color-1)\"/>\n            <path d=\"M20.2473 0H14.2851C13.8265 0 13.4552 0.371274 13.4552 0.829906C13.4552 1.28854 13.8265 1.65981 14.2851 1.65981H18.2599L9.85165 10.0681C9.52406 10.3957 9.52406 10.898 9.85165 11.2256C10.0045 11.3785 10.2229 11.4658 10.4413 11.4658C10.6597 11.4658 10.8563 11.3785 11.031 11.2256L19.4393 2.79547V6.77029C19.4393 7.22892 19.8105 7.60019 20.2692 7.60019C20.7278 7.60019 21.0991 7.22892 21.0991 6.77029V0.829906C21.0772 0.371274 20.706 0 20.2473 0Z\" fill=\"var(--btn-text-color-1)\"/>\n          </svg>\n        </button>\n      </div>\n    </sc-popup-overlay>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: 'CtaPopup',\n  components: { },\n  props: {\n    cta: {\n      type: Object,\n      required: true,\n      default () { return {} }\n    },\n    bundle: String,\n    storekey: Number\n  },\n  data: function () {\n    return {}\n  },\n  mounted: function () {},\n  methods: {\n    handleClick () {\n      this.trackClick()\n      window.open(this.cta.redirectUrl, '_blank', 'noopener,noreferrer')\n      window.setTimeout(this.hide.bind(this), 100)\n    },\n    trackClick () {\n      const options = {\n        category: 'engagement',\n        value: 1,\n        label: this.cta.redirectUrl,\n        bundle: this.bundle\n      }\n      this.$SDK.analytics.track('cta_click', options)\n    },\n    /* Open the prize overlay */\n    show () {\n      // add a key to prevent the sesssion storage key to interfere with other\n      // moments that might come next in the same session\n      if (window.sessionStorage.getItem('sc:moment:cta' + this.storekey) !== 'true') {\n        window.sessionStorage.setItem('sc:moment:cta' + this.storekey, true)\n      } else if (!this.cta.showAlways) {\n        return\n      }\n      this.$refs.ctaOverlay.show()\n    },\n    /* Close the prize overlay */\n    hide () {\n      this.$refs.ctaOverlay.hide()\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .cta-box {\n    display: inline-block;\n\n    .cta-button {\n      border: none;\n      background: var(--bg-color-2);\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\n      border-radius: 4px;\n      padding: 5px 7px;\n      font-family: $base-font-stack;\n      font-size: 23px;\n      font-weight: $font-weight-bold;\n      line-height: 26px;\n      color: var(--text-color-2);\n      outline: none;\n      height: 36px;\n      width: 36px;\n\n      &:active {\n        color: #fff !important;\n        transform: scale(0.9);\n        transition: all .3s ease-out;\n      }\n\n      svg, span, img {\n        vertical-align: middle;\n        height: 21px;\n        width: 21px;\n      }\n\n      span {\n        display: inline-block;\n        margin-left: 30px;\n        margin-right: 50px;\n      }\n    }\n\n    .bottom-padder {\n      padding-bottom: 71px;\n    }\n\n    .moment-infos {\n      text-align: center;\n      padding-bottom: 40px;\n    }\n\n    .cta-headline {\n      font-weight: $font-weight-bold;\n      font-size: 20px;\n      line-height: 25px;\n      margin: 20px 0;\n    }\n\n    .cta-text {\n      white-space: pre-line;\n    }\n\n    .header-info {\n      text-align: center;\n      padding: 20px 55px;\n      background: var(--bg-color-2);\n      font-weight: $font-weight-bold;\n      font-size: 22px;\n      line-height: 28px;\n      color: var(--text-color-1);\n      margin: -55px -25px 5px -25px;\n      min-height: 75px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      &.with-image {\n        padding: 0;\n        line-height: 0;\n\n        img {\n          width: 100%;\n        }\n      }\n    }\n\n    .cta-button-overlay {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      background: var(--bg-color-1);\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\n      padding: 30px 25px 21px 25px;\n    }\n\n    .cta-overlay .popup-overlay {\n      z-index: 100;\n    }\n\n    .popup-overlay {\n      padding-bottom: 40px;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtaPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtaPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CtaPopup.vue?vue&type=template&id=31b1dffc&scoped=true&\"\nimport script from \"./CtaPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./CtaPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CtaPopup.vue?vue&type=style&index=0&id=31b1dffc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31b1dffc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-container\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.view.editing),expression:\"!view.editing\"}],staticClass:\"toolbox-container top-tools\"},[(_vm.filterUrl)?[(!_vm.view.filterActive)?_c('div',{staticClass:\"top-tool-group\"},[_c('button',{staticClass:\"btn btn-small\",on:{\"click\":function($event){return _vm.addFilter()}}},[_c('img',{attrs:{\"src\":(\"./assets/icons/filter-\" + (_vm.view.theme) + \".icon.svg\"),\"alt\":\"\"}})]),(!_vm.view.btnClicked)?_c('tooltip',{attrs:{\"text\":'Add a filter on your picture.'}}):_vm._e()],1):_c('button',{staticClass:\"btn btn-small\",staticStyle:{\"width\":\"68px!important\",\"margin-bottom\":\"6px\"},on:{\"click\":function($event){return _vm.removeFilter()}}},[_c('img',{attrs:{\"src\":(\"./assets/icons/filter-\" + (_vm.view.theme) + \".icon.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"close-icon\",attrs:{\"src\":\"./assets/icons/close.icon.svg\",\"alt\":\"\"}})])]:_vm._e(),(!_vm.view.textActive)?_c('div',{staticClass:\"top-tool-group\"},[_c('button',{staticClass:\"btn btn-small\",on:{\"click\":function($event){return _vm.addTextLayer()}}},[_c('img',{attrs:{\"src\":(\"./assets/icons/text-\" + (_vm.view.theme) + \".icon.svg\"),\"alt\":\"\"}})]),(!_vm.view.btnClicked)?_c('tooltip',{attrs:{\"text\":'Add Text on your picture.'}}):_vm._e()],1):_c('button',{staticClass:\"btn btn-small\",staticStyle:{\"width\":\"68px!important\"},on:{\"click\":function($event){return _vm.removeTextLayer()}}},[_c('img',{attrs:{\"src\":(\"./assets/icons/text-\" + (_vm.view.theme) + \".icon.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"close-icon\",attrs:{\"src\":\"./assets/icons/close.icon.svg\",\"alt\":\"\"}})])],2)]),_c('transition-group',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.view.editing),expression:\"!view.editing\"}],key:0,staticClass:\"toolbox-bg\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.view.editing),expression:\"!view.editing\"}],key:1,staticClass:\"toolbox-container bottom-tools\"},[_c('button',{staticClass:\"btn btn-small btn-transparent text-white\",on:{\"click\":function($event){return _vm.goBack()}}},[_vm._v(_vm._s(_vm.t('steps.1.button.2')))]),(!_vm.view.sending)?_c('button',{staticClass:\"btn btn-small\",on:{\"click\":function($event){return _vm.upload()}}},[_vm._v(_vm._s(_vm.boxButton ? _vm.boxButton : _vm.t('steps.1.button.0')))]):_c('button',{staticClass:\"btn btn-small\"},[_vm._v(_vm._s(_vm.t('steps.1.button.1'))+\" \"),_c('img',{staticClass:\"img preloader\",attrs:{\"src\":(\"./assets/icons/loading-\" + (_vm.view.theme) + \".icon.svg\"),\"alt\":\"\"}})])])]),_c('div',{attrs:{\"id\":\"container\"}}),_c('text-edit-modal',{ref:\"textEditModal\",attrs:{\"text\":_vm.text}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tooltip\"},[_c('div',{staticClass:\"arrow\"}),_vm._v(\" \"+_vm._s(_vm.text)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tooltip\">\n    <div class=\"arrow\"></div>\n    {{ text }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Tooltip',\n  components: {},\n  props: {\n    text: String\n  },\n  data: function () {\n    return {}\n  },\n  mounted: function () {},\n  methods: {\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .tooltip {\n    position: absolute;\n    width: 115px;\n    background: var(--bg-color-2);\n    color: var(--text-color-1);\n    border-radius: 4px;\n    padding: 6px;\n    padding-left: 8px;\n    font-weight: 600;\n    font-size: 13px;\n    margin-left: 54px;\n\n    .arrow {\n      position: absolute;\n      width: 10px;\n      height: 10px;\n      border-bottom-left-radius: 3px;\n      background: var(--bg-color-2);\n      top: 15px;\n      left: -5px;\n      transform: rotate(45deg);\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tooltip.vue?vue&type=template&id=670210c8&scoped=true&\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=js&\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tooltip.vue?vue&type=style&index=0&id=670210c8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"670210c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"popup\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"popup-overlay\"}),_c('transition',{attrs:{\"name\":\"fade-center\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"popup-container\"},[_c('div',{staticClass:\"popup-box\",on:{\"click\":_vm.hide}},[_c('div',{staticClass:\"popup-header\"},[_c('button',{staticClass:\"btn btn-small\",on:{\"click\":_vm.hide}},[_vm._v(\" \"+_vm._s(_vm.t('steps.1.button.3'))+\" \")])]),_c('div',{staticClass:\"popup-content\",class:{ 'onfocus': _vm.textAreaFocused }},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textToEdit),expression:\"textToEdit\"}],ref:\"textEdit\",staticClass:\"textedit\",attrs:{\"autofocus\":\"\",\"name\":\"\",\"id\":\"\",\"cols\":\"10\",\"rows\":\"1\"},domProps:{\"value\":(_vm.textToEdit)},on:{\"focus\":function($event){_vm.textAreaFocused = true},\"blur\":function($event){_vm.textAreaFocused = false},\"input\":[function($event){if($event.target.composing){ return; }_vm.textToEdit=$event.target.value},_vm.autoResize],\"click\":_vm.handleClick}})])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"popup\">\n    <div class=\"popup-overlay\" v-show=\"visible\"></div>\n      <transition name=\"fade-center\">\n        <div class=\"popup-container\" v-show=\"visible\">\n          <div class=\"popup-box\" @click=\"hide\">\n            <div class=\"popup-header\">\n              <button class=\"btn btn-small\" @click=\"hide\">\n                {{ t('steps.1.button.3') }}\n              </button>\n            </div>\n            <div class=\"popup-content\" :class=\"{ 'onfocus': textAreaFocused }\">\n              <textarea ref=\"textEdit\" class=\"textedit\" autofocus @focus=\"textAreaFocused = true\" @blur=\"textAreaFocused = false\" @input=\"autoResize\" @click=\"handleClick\" v-model=\"textToEdit\" name=\"\" id=\"\" cols=\"10\" rows=\"1\"></textarea>\n            </div>\n          </div>\n        </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TextEditModal',\n  data: function () {\n    return {\n      visible: false,\n      textToEdit: '',\n      textAreaFocused: false\n    }\n  },\n  props: {\n    text: String\n  },\n  methods: {\n    /* Show the popup */\n    show () {\n      this.visible = true\n      this.textToEdit = this.text\n      this.$emit('show', true)\n      document.body.style.overflow = 'hidden'\n      this.$nextTick(() => this.$refs.textEdit.focus())\n    },\n    /* Hide the popup */\n    hide () {\n      this.visible = false\n      this.$emit('hide', this.textToEdit)\n      document.body.style.overflow = 'auto'\n    },\n    handleClick (evt) {\n      evt.stopPropagation()\n    },\n    autoResize (evt) {\n      evt.target.style.height = 'auto'\n      evt.target.style.height = evt.target.scrollHeight + 'px'\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .textedit {\n    width: 90%;\n    max-width: 500px;\n    margin: auto;\n    background: transparent;\n    color: white;\n    border: none;\n    font-family: $base-font-stack;\n    font-weight: 900;\n    font-size: 28px;\n    text-align: center;\n    outline: none;\n    resize: none;\n    line-height: 34px;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .popup-overlay, .popup-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n    z-index: 100;\n    background: rgba(23,23,23,.5);\n  }\n  .popup-box {\n    position: relative;\n    width: 96%;\n    height: 100%;\n    margin: auto;\n    background: transparent;\n    overflow: hidden;\n    padding: 8px;\n  }\n\n  .popup-header {\n    text-align: right;\n    margin: 8px;\n    position: fixed;\n    top: 0;\n    left: 0px;\n    right: 0px;\n  }\n\n  .popup-content {\n    padding: 5px;\n    position: relative;\n    text-align: center;\n    top: 50%;\n    transform: translateY(-50%);\n\n    &.onfocus {\n      top: 10%;\n      transform: translateY(0%);\n    }\n  }\n\n  .fade-center-enter-active {\n    animation: fade-center .5s;\n  }\n\n  .fade-center-leave-active {\n    animation: fade-center .25s reverse;\n  }\n\n  @keyframes fade-center {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextEditModal.vue?vue&type=template&id=46f26ccc&scoped=true&\"\nimport script from \"./TextEditModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEditModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextEditModal.vue?vue&type=style&index=0&id=46f26ccc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46f26ccc\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n\n// App State shared among components\nconst appState = Vue.observable({\n  // the user profile info\n  showTooltips: true,\n  content: [],\n  months: ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december']\n})\n\n// quick access to configuration data\nexport const generalConfig = {\n  ctaDisplayTimeout: 2200\n}\n\nexport function setAppError (err, message) {\n  appState.error = err\n  appState.errorMessage = message\n}\nexport default appState\n","<template>\n  <div class=\"box-container\">\n    <!-- Top tools -->\n    <transition name=\"fade\">\n      <div v-show=\"!view.editing\" class=\"toolbox-container top-tools\">\n        <template v-if=\"filterUrl\">\n          <div v-if=\"!view.filterActive\" class=\"top-tool-group\">\n            <button class=\"btn btn-small\" @click=\"addFilter()\">\n              <img :src=\"`./assets/icons/filter-${view.theme}.icon.svg`\"  alt=\"\">\n            </button>\n            <tooltip v-if=\"!view.btnClicked\" :text=\"'Add a filter on your picture.'\"></tooltip>\n          </div>\n          <button v-else class=\"btn btn-small\" style=\"width:68px!important;margin-bottom: 6px;\" @click=\"removeFilter()\">\n            <img :src=\"`./assets/icons/filter-${view.theme}.icon.svg`\"  alt=\"\">\n            <img class=\"close-icon\" :src=\"`./assets/icons/close.icon.svg`\" alt=\"\">\n          </button>\n        </template>\n        <div v-if=\"!view.textActive\" class=\"top-tool-group\">\n          <button class=\"btn btn-small\" @click=\"addTextLayer()\">\n            <img :src=\"`./assets/icons/text-${view.theme}.icon.svg`\"  alt=\"\">\n          </button>\n          <tooltip v-if=\"!view.btnClicked\" :text=\"'Add Text on your picture.'\"></tooltip>\n        </div>\n        <button v-else class=\"btn btn-small\" style=\"width:68px!important;\" @click=\"removeTextLayer()\">\n          <img :src=\"`./assets/icons/text-${view.theme}.icon.svg`\"  alt=\"\">\n          <img class=\"close-icon\" :src=\"`./assets/icons/close.icon.svg`\" alt=\"\">\n        </button>\n      </div>\n    </transition>\n    <!-- Bottom tools -->\n    <transition-group name=\"fade\">\n      <div v-show=\"!view.editing\" :key=\"0\" class=\"toolbox-bg\"></div>\n      <div v-show=\"!view.editing\" :key=\"1\" class=\"toolbox-container bottom-tools\">\n        <button class=\"btn btn-small btn-transparent text-white\" @click=\"goBack()\">{{ t('steps.1.button.2') }}</button>\n        <button v-if=\"!view.sending\" class=\"btn btn-small\" @click=\"upload()\">{{ boxButton ? boxButton : t('steps.1.button.0') }}</button>\n        <button v-else class=\"btn btn-small\">{{ t('steps.1.button.1') }}\n          <img :src=\"`./assets/icons/loading-${view.theme}.icon.svg`\" class=\"img preloader\" alt=\"\">\n        </button>\n      </div>\n    </transition-group>\n    <!-- canvas goes here -->\n    <div id=\"container\"></div>\n    <text-edit-modal :text=\"text\" ref=\"textEditModal\"></text-edit-modal>\n  </div>\n</template>\n\n<script>\nimport Tooltip from './Tooltip'\nimport TextEditModal from './TextEditModal'\nimport appState from '../global'\n\nexport default {\n  name: 'CustomizePicture',\n  components: { Tooltip, TextEditModal },\n  props: {\n    userTakenPicture: String,\n    filterUrl: String,\n    boxButton: String\n  },\n  data: function () {\n    return {\n      view: {\n        btnClicked: false,\n        sending: false,\n        textActive: false,\n        filterActive: false,\n        editing: false,\n        bgEditingEnabled: true,\n        theme: 'light'\n      },\n      stage: undefined,\n      imgLayer: undefined,\n      textLayer: undefined,\n      text: undefined,\n      filterLayer: undefined,\n      tr: undefined,\n      configKonva: {\n        width: 640,\n        height: 900\n      }\n    }\n  },\n  created: function () {\n    this.view.theme = document.documentElement.getAttribute('theme')\n  },\n  mounted: function () {\n    TouchEmulator() //eslint-disable-line\n\n    this.view.btnClicked = !appState.showTooltips\n    this.$Konva.hitOnDragEnabled = true\n    this.$Konva.captureTouchEventsEnabled = true\n\n    var stage = new this.$Konva.Stage({\n      container: 'container',\n      // square aspect ratio\n      width: Math.min(500, window.innerWidth),\n      height: Math.min(500, window.innerWidth)\n    })\n\n    this.stage = stage\n\n    // img\n    var imgLayer = new this.$Konva.Layer()\n    stage.add(imgLayer)\n\n    const imageObj = new Image()\n    imageObj.onload = () => {\n      const imgData = {\n        ratio: imageObj.width / imageObj.height,\n        height: window.innerHeight,\n        y: 0\n      }\n      imgData.width = window.innerHeight * imgData.ratio\n      imgData.x = (Math.min(500, window.innerWidth) - imgData.width) / 2\n\n      var userPicture = new this.$Konva.Image({\n        x: imgData.x,\n        y: imgData.y,\n        image: imageObj,\n        width: imgData.width,\n        height: imgData.height,\n        draggable: true\n      })\n\n      // add the shape to the layer\n      imgLayer.add(userPicture)\n      imgLayer.batchDraw()\n    }\n    // load the image here\n    imageObj.src = this.userTakenPicture\n    this.imgLayer = imgLayer\n  },\n  methods: {\n    goBack () {\n      this.$root.$emit('goToIntro', true)\n    },\n    upload () {\n      this.view.sending = true\n      this.tr && this.tr.destroy()\n      // prepare the canvas and extract a small-sized snapshot\n      this.stage.toImage({\n        mimeType: 'image/jpeg',\n        quality: 1,\n        callback: (imgToExport) => {\n          this.$emit('upload', imgToExport)\n        }\n      })\n    },\n    addFilter () {\n      this.view.btnClicked = true\n      appState.showTooltips = false\n      this.view.filterActive = true\n      this.view.bgEditingEnabled = false\n\n      const layer = new this.$Konva.Layer()\n      const imageObj = new this.$Konva.Image({\n        x: 120,\n        y: 120,\n        draggable: true\n      })\n\n      this.stage.add(layer)\n      layer.add(imageObj)\n\n      const filterImg = new Image()\n      filterImg.crossOrigin = 'Anonymous'\n      filterImg.onload = () => {\n        imageObj.image(filterImg)\n        // imageObj.offsetX(filterImg.width / 2)\n        // imageObj.offsetY(filterImg.height / 2)\n        layer.batchDraw()\n      }\n\n      // load the image here\n      filterImg.src = this.filterUrl\n\n      var hammertime = new this.$Hammer(layer, { domEvents: true })\n      hammertime.get('rotate').set({ enable: true })\n      let oldRotation = 0\n      let startScale = 0\n\n      layer.on('rotatestart', (ev) => {\n        ev.evt.stopPropagation()\n        this.view.editing = true\n        imageObj.offsetX(imageObj.width() / 2)\n        imageObj.offsetY(imageObj.height() / 2)\n        oldRotation = ev.evt.gesture.rotation\n        startScale = imageObj.scaleX()\n        imageObj.stopDrag()\n        imageObj.draggable(false)\n      })\n\n      layer.on('rotate', function (ev) {\n        ev.evt.stopPropagation()\n        if (ev.evt.gesture.rotation === 0) { return }\n        var delta = oldRotation - ev.evt.gesture.rotation\n        imageObj.rotate(-delta)\n        oldRotation = ev.evt.gesture.rotation\n        imageObj.scaleX(startScale * ev.evt.gesture.scale)\n        imageObj.scaleY(startScale * ev.evt.gesture.scale)\n        layer.batchDraw()\n      })\n\n      layer.on('rotateend rotatecancel', (ev) => {\n        ev.evt.stopPropagation()\n        this.view.editing = false\n        imageObj.draggable(true)\n        layer.batchDraw()\n      })\n\n      imageObj.on('dragstart', () => {\n        this.view.editing = true\n      })\n      imageObj.on('dragend', () => {\n        this.view.editing = false\n      })\n\n      this.filterLayer = layer\n    },\n    removeFilter () {\n      this.view.filterActive = false\n      this.filterLayer.destroy()\n      this.filterLayer = null\n      if (!this.textLayer) {\n        this.view.bgEditingEnabled = true\n      }\n    },\n    removeTextLayer () {\n      this.view.textActive = false\n      this.textLayer.destroy()\n      this.textLayer = null\n      this.text = ''\n      if (!this.filterLayer) {\n        this.view.bgEditingEnabled = true\n      }\n    },\n    addTextLayer () {\n      this.view.btnClicked = true\n      appState.showTooltips = false\n      this.view.bgEditingEnabled = false\n\n      var layer = new this.$Konva.Layer()\n      this.stage.add(layer)\n      var simpleLabel = new this.$Konva.Label({\n        x: Math.min(500, window.innerWidth) * 0.5 - 110,\n        y: window.innerHeight * 0.5 - 30,\n        draggable: true\n      })\n\n      var textNode = new this.$Konva.Text({\n        x: 0,\n        y: 0,\n        fontSize: 30,\n        lineHeight: 1.2,\n        fontFamily: 'Source Sans Pro',\n        fontStyle: 'bold',\n        align: 'center',\n        text: '',\n        padding: 16,\n        wrap: 'word'\n      })\n      var tag = new this.$Konva.Tag({ cornerRadius: 8, fill: 'white' })\n      simpleLabel.add(tag)\n      simpleLabel.add(textNode)\n      layer.add(simpleLabel)\n\n      var hammertime = new this.$Hammer(layer, { domEvents: true })\n      hammertime.get('rotate').set({ enable: true })\n      let oldRotation = 0\n      let startScale = 0\n\n      layer.on('rotatestart', (ev) => {\n        ev.evt.stopPropagation()\n        ev.evt.preventDefault()\n        this.view.editing = true\n        simpleLabel.offsetX(simpleLabel.width() / 2)\n        simpleLabel.offsetY(simpleLabel.height() / 2)\n        oldRotation = ev.evt.gesture.rotation\n        startScale = simpleLabel.scaleX()\n        simpleLabel.stopDrag()\n        simpleLabel.draggable(false)\n      })\n\n      layer.on('rotate', function (ev) {\n        ev.evt.stopPropagation()\n        if (ev.evt.gesture.rotation === 0) { return }\n        var delta = oldRotation - ev.evt.gesture.rotation\n        simpleLabel.rotate(-delta)\n        oldRotation = ev.evt.gesture.rotation\n        simpleLabel.scaleX(startScale * ev.evt.gesture.scale)\n        simpleLabel.scaleY(startScale * ev.evt.gesture.scale)\n        layer.batchDraw()\n      })\n\n      layer.on('rotateend rotatecancel', (ev) => {\n        ev.evt.stopPropagation()\n        this.view.editing = false\n        simpleLabel.draggable(true)\n        layer.batchDraw()\n      })\n\n      layer.on('dragstart', () => {\n        this.view.editing = true\n      })\n      layer.on('dragend', () => {\n        this.view.editing = false\n      })\n\n      this.textLayer = layer\n      this.view.textActive = true\n\n      layer.on('click tap pressup', () => {\n        const originalWidth = textNode.width()\n        this.text = textNode.text()\n        simpleLabel.hide()\n        layer.draw()\n        this.$refs.textEditModal.show()\n\n        this.$refs.textEditModal.$on('hide', (text) => {\n          this.$refs.textEditModal.$off('hide')\n          this.text = text\n          textNode.text(text)\n          textNode.width(originalWidth)\n          simpleLabel.show()\n          layer.draw()\n        })\n      })\n\n      // show the modal\n      simpleLabel.hide()\n      this.$refs.textEditModal.show()\n\n      this.$refs.textEditModal.$on('hide', (text) => {\n        this.$refs.textEditModal.$off('hide')\n        if (!text) {\n          this.removeTextLayer()\n          return\n        }\n        this.text = text\n        textNode.text(text)\n        textNode.width(Math.min(textNode.width(), Math.min(500, window.innerWidth) - 16))\n        simpleLabel.x((Math.min(500, window.innerWidth) - textNode.width()) / 2)\n        simpleLabel.y((window.innerHeight - textNode.height()) / 2)\n        simpleLabel.show()\n        layer.draw()\n      })\n\n      layer.batchDraw()\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n  .box-container {\n    background: #171717;\n    height: 100%;\n\n    #container {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  .preloader {\n    float: right!important;\n    margin-left: 8px;\n  }\n\n  .btn {\n    .close-icon {\n      margin: 4px 4px 4px 8px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .toolbox-container {\n    width: 100%;\n    position: fixed;\n    z-index: 2;\n    left: 0;\n    right: 0;\n    padding: 16px;\n    display: flex;\n    justify-content: space-between;\n    user-select: none;\n\n    .top-tool-group {\n      display: flex;\n      margin-bottom: 6px;\n    }\n\n    &.top-tools {\n      top: 0;\n      flex-direction: column;\n      width: 60px;\n      padding: 8px;\n    }\n\n    &.bottom-tools {\n      bottom: 0;\n    }\n  }\n\n  .toolbox-bg {\n    background: linear-gradient(transparent,  #171717);\n    width: 100%;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 70px;\n    position: absolute;\n    z-index: 2;\n    user-select: none;\n  }\n\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .2s;\n  }\n\n  .fade-enter, .fade-leave-to, .fade-leave-active {\n    opacity: 0;\n    display: none;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomizePicture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomizePicture.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomizePicture.vue?vue&type=template&id=79c4d2b4&scoped=true&\"\nimport script from \"./CustomizePicture.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomizePicture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomizePicture.vue?vue&type=style&index=0&id=79c4d2b4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79c4d2b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-positioner\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('div',{attrs:{\"id\":\"circularLogo\"}}),_c('h1',{staticClass:\"mainText\"},[_vm._v(_vm._s(_vm.boxTitle ? _vm.boxTitle : _vm.t('steps.2.main')))])]),_c('button',{staticClass:\"btn btn-green\",staticStyle:{\"margin-top\":\"60px\",\"flex-shrink\":\"0\"},on:{\"click\":function($event){return _vm.goToCamera()}}},[_c('img',{attrs:{\"src\":\"./assets/icons/camera-light.icon.svg\",\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.t('steps.2.button.0')))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box-positioner\">\n    <div class=\"box\">\n      <div style=\"text-align: center;\">\n        <div id=\"circularLogo\">\n        </div>\n        <h1 class=\"mainText\">{{ boxTitle ? boxTitle : t('steps.2.main') }}</h1>\n      </div>\n      <button class=\"btn btn-green\" style=\"margin-top: 60px;flex-shrink: 0;\" @click=\"goToCamera()\">\n        <img :src=\"`./assets/icons/camera-light.icon.svg`\" alt=\"\">\n        <span>{{ t('steps.2.button.0') }}</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { isMobile } from '../utils'\n\nexport default {\n  name: 'UploadSuccess',\n  components: {},\n  props: {\n    fallback: Boolean,\n    boxTitle: String\n  },\n  data: function () {\n    return {\n      isMobile: false,\n      view: {\n        theme: 'light'\n      }\n    }\n  },\n  mounted: function () {\n    this.isMobile = isMobile()\n    this.$root.$emit('showCtaPopup', true)\n  },\n  methods: {\n    goToCamera () {\n      if (this.fallback || this.isMobile) {\n        this.$root.$emit('openNativeCamera', true)\n      } else {\n        this.$root.$emit('openBrowserCamera', true)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .box {\n    margin: auto;\n    box-shadow: 0px 4px 20px 8px rgba(0, 0, 0, 0.25);\n    max-width: 500px;\n    background-color: var(--bg-color-2);\n    border-radius: 10px;\n    margin-bottom: 20px;\n    padding: 24px;\n  }\n\n  .mainText {\n    font-size: 1.5rem;\n    margin-top: 24px;\n  }\n\n  .btn {\n    font-family: \"Source Sans Pro\", Verdana, sans-serif;\n    border-radius: 4px;\n    height: 60px;\n    width: 100%;\n    border: none;\n    font-size: 22px;\n    line-height: 1.2;\n    font-weight: 600;\n    cursor: pointer;\n    background-color: var(--input-color-2);\n    color: var(--input-text-color-1);\n  }\n\n  .btn img, .btn .img {\n    margin-left: 16px;\n    height: 26px;\n    width: 26px;\n    float: left;\n    vertical-align: middle;\n  }\n  .btn span {\n    margin-left: -16px;\n  }\n\n  #circularLogo {\n    // background-color: rgba(255, 255, 255, 0.2);\n    background-color: #35bf7f5e;\n    background-size: 60%;\n    background-position: 50%;\n    background-repeat: no-repeat;\n    margin:auto;\n    width: 96px;\n    height: 96px;\n    border-radius: 70px;\n    background-image: url(../assets/person-raising-both-hands-in-celebration.png);\n  }\n\n  .infoText {\n    font-size: 14px;\n    margin-top: 16px;\n    text-align: center;\n    color: var(--text-color-2);\n  }\n  .btn-green, .bg-green {\n    background: #35BF7F!important;\n    color: white!important;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSuccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSuccess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadSuccess.vue?vue&type=template&id=7522fa01&scoped=true&\"\nimport script from \"./UploadSuccess.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadSuccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadSuccess.vue?vue&type=style&index=0&id=7522fa01&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7522fa01\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.sponsors.hasSponsors)?_c('div',{staticClass:\"sponsor-banner\"},[_c('p',[_vm._v(_vm._s(_vm.sponsors.credit))]),_c('div',{staticClass:\"logo-container\"},_vm._l((_vm.sponsors.logos),function(logo,index){return _c('img',{key:index,attrs:{\"src\":logo,\"alt\":index}})}),0)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"sponsor-banner\" v-if=\"sponsors.hasSponsors\">\n    <p>{{ sponsors.credit }}</p>\n    <div class=\"logo-container\">\n      <img v-for=\"(logo, index) in sponsors.logos\" v-bind:key=\"index\" :src=\"logo\" :alt=\"index\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SponsorBanner',\n  data: function () {\n    return {\n      hasSponsors: false\n    }\n  },\n  props: {\n    sponsors: {\n      type: Object,\n      required: true,\n      default () {\n        return {\n          hasSponsors: false,\n          credit: '',\n          logos: []\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .sponsor-banner {\n    display: block;\n    bottom: 0;\n    width: 100%;\n    margin: auto 0 0 0;\n    background-color: rgba(23, 23, 23, 0.5);\n  }\n\n  .sponsor-banner p {\n    display: block;\n    font-size: 14px;\n    color: white;\n    text-align: center;\n    padding: 12px 0 8px 0;\n    margin: 0;\n  }\n  .sponsor-banner .logo-container {\n    margin-top: 0px;\n    padding-bottom: 10px;\n    display: -webkit-box;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n    /*iOS 10.3 fallback*/\n    -webkit-box-justify: space-evenly;\n    -moz-box-justify: space-evenly;\n    -ms-flex-justify: space-evenly;\n    -webkit-justify-content: space-evenly;\n    justify-content: space-around;\n    /* space-evenly not supported by safari 10.3 */\n    flex-wrap: wrap;\n  }\n  .sponsor-banner .logo-container img {\n    align-self: center;\n    max-width: 70px;\n    max-height: 70px;\n    min-width: 0;\n    margin: 4px;\n  }\n\n  @media screen and (max-width: 320px) {\n    .sponsor-banner {\n      width: calc(100% + 16px);\n    margin: auto -18px 0 -18px;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SponsorBanner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SponsorBanner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SponsorBanner.vue?vue&type=template&id=6c7cbe7c&scoped=true&\"\nimport script from \"./SponsorBanner.vue?vue&type=script&lang=js&\"\nexport * from \"./SponsorBanner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SponsorBanner.vue?vue&type=style&index=0&id=6c7cbe7c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c7cbe7c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" class=\"app-component\">\n    <div class=\"app-background\" v-bind:style=\"background\"></div>\n    <div class=\"img-uploader-wrap\" style=\"display: none;\">\n      <input ref=\"uploader\" @change=\"handleOnChange($event)\" type=\"file\" name=\"uploader\" id=\"uploader\" accept=\"image/*\" capture=\"user\"/>\n    </div>\n    <div class=\"inner\">\n      <div class=\"help-section\" v-show=\"isHelpVisible\">\n        <sc-help-popup ref=\"helpPopup\" :share=\"shareUrl\" :howto=\"getHowto\" :options=\"getHelpOptions\"></sc-help-popup>\n        <cta-popup v-if=\"custom.ctaEnabled\" ref=\"ctaPopup\" :cta=\"custom.cta\" :storekey=\"createdTimestamp\" :bundle=\"appState.momentClass.bundle\"></cta-popup>\n      </div>\n      <intro-page v-if=\"isVisible('intro')\" :fallback=\"!view.mediaSupported\" :boxTitle=\"custom.introTitle\" :boxImg=\"custom.introImg\" :boxDescription=\"custom.introDescription\"></intro-page>\n      <take-picture v-if=\"isVisible('camera')\" @pictureTaken=\"handlePictureTaken($event)\"></take-picture>\n      <customize-picture v-if=\"isVisible('customize')\" :userTakenPicture=\"img\" :filterUrl=\"custom.filter\" :boxButton=\"custom.sendButton\" @upload=\"handleUpload($event)\"></customize-picture>\n      <upload-success v-if=\"isVisible('summary')\" :fallback=\"!view.mediaSupported\" :boxTitle=\"custom.successMessage\"></upload-success>\n      <content-gallery v-if=\"isVisible('summary', 'intro')\" :content=\"appState.content\"></content-gallery>\n      <sponsor-banner v-if=\"showSponsors\" :sponsors=\"sponsors\"></sponsor-banner>\n    </div>\n  </div>\n</template>\n\n<script>\nimport IntroPage from './components/IntroPage'\nimport TakePicture from './components/TakePicture'\nimport ContentGallery from './components/ContentGallery'\nimport CtaPopup from './components/CtaPopup'\nimport CustomizePicture from './components/CustomizePicture'\nimport UploadSuccess from './components/UploadSuccess'\nimport SponsorBanner from './components/SponsorBanner'\nimport { dataURItoBlob, setPageAttributes, isIterableArray, fixImageOrientation } from './utils'\n\nimport appState, { generalConfig } from './global'\n\nexport default {\n  name: 'App',\n  components: { IntroPage, TakePicture, ContentGallery, CtaPopup, CustomizePicture, UploadSuccess, SponsorBanner },\n  created () {\n    this.$SDK.onConfigReceived(this.initialize)\n  },\n  data: function () {\n    return {\n      view: {\n        loading: true,\n        pageName: '',\n        theme: 'light',\n        mediaSupported: false\n      },\n      shareUrl: undefined,\n      sponsors: undefined,\n      ctaTimeout: undefined,\n      createdTimestamp: undefined,\n      custom: {},\n      // bind the global appState locally so it can be accessed in the view.\n      appState: appState\n    }\n  },\n  mounted () {\n    this.$root.$on('goToIntro', this.handleGoBack.bind(this))\n    this.$root.$on('showCtaPopup', this.handleCTAPopup.bind(this))\n    this.$root.$on('openNativeCamera', this.openNativeCamera.bind(this))\n    this.$root.$on('openBrowserCamera', this.openBrowserCamera.bind(this))\n  },\n  computed: {\n    background: function () {\n      return { backgroundColor: this.custom.backgroundColor }\n    },\n    /* Logo banner display rules */\n    showSponsors: function () {\n      return this.sponsors && this.sponsors.hasSponsors && (this.view.pageName === 'intro' || this.view.pageName === 'summary')\n    },\n    /* Help popup display rules */\n    isHelpVisible: function () {\n      return this.view.pageName === 'intro' || this.view.pageName === 'summary'\n    },\n    getHowto: function () {\n      return this.$t('help.howto')\n    },\n    /* Help popup data options */\n    getHelpOptions: function () {\n      return {\n        title: 'Collage',\n        headerImg: this.custom.helpHeaderImg\n      }\n    }\n  },\n  methods: {\n    /* Initialize the Stagecast Moments SDK */\n    initialize () {\n      Promise\n        .all([\n          this.$SDK.connection.getMomentClass(),\n          this.$SDK.connection.getMoment()\n        ])\n        .then(res => ({ momentClass: res[0], moment: res[1] }))\n        .then(({ momentClass, moment = {} }) => {\n          this.shareUrl = momentClass.shareUrl\n          this.appState.momentClass = momentClass\n          this.createdTimestamp = moment.created\n          this.checkMediaSupport()\n          this.handleMomentClass(momentClass)\n          this.initTheme(momentClass)\n          this.initLanguage(momentClass)\n          this.initSponsors(momentClass)\n          this.initTakenPictures()\n          this.showPage('intro')\n        })\n        .catch((err) => {\n          console.error(err) //eslint-disable-line\n        })\n    },\n    checkMediaSupport () {\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        this.view.mediaSupported = true\n      }\n    },\n    handleMomentClass (momentClass) {\n      const custom = momentClass.custom || {}\n      if (isIterableArray(custom.filters)) {\n        custom.filter = this.getImageUrl(custom.filters[0])\n      } else {\n        custom.filter = null\n      }\n      if (isIterableArray(custom.helpHeaderImg)) {\n        custom.helpHeaderImg = this.getImageUrl(custom.helpHeaderImg[0])\n      } else {\n        custom.helpHeaderImg = null\n      }\n\n      if (isIterableArray(custom.introImg)) {\n        custom.introImg = this.getImageUrl(custom.introImg[0])\n      } else {\n        custom.introImg = null\n      }\n\n      if (custom.cta) {\n        if (custom.ctaEnabled && isIterableArray(custom.cta.headerImg)) {\n          custom.cta.headerImg = this.getImageUrl(custom.cta.headerImg[0])\n        } else {\n          custom.cta.headerImg = null\n        }\n      } else {\n        custom.ctaEnabled = false\n        custom.cta = {}\n      }\n\n      this.custom = custom\n    },\n    initSponsors (momentClass) {\n      const fullSettings = Object.assign({}, momentClass)\n      this.sponsors = {}\n\n      if (fullSettings.showSponsor && fullSettings.sponsor && fullSettings.sponsor.logos && fullSettings.sponsor.logos.length > 0) {\n        this.sponsors.hasSponsors = true\n        this.sponsors.logos = fullSettings.sponsor.logos.map(contentId => this.getImageUrl(contentId))\n        this.sponsors.credit = fullSettings.sponsor.credit\n      }\n    },\n    initTakenPictures () {\n      this.$SDK.connection\n        .getUserContentInfo({\n          tag: this.$SDK.getMomentClassId(),\n          uploaders: 'me'\n        })\n        .then(content => {\n          this.appState.content = content\n        })\n        .catch(err => { //eslint-disable-line\n          this.appState.content = null\n        })\n    },\n    initTheme ({ custom }) {\n      if (custom.theme) {\n        setPageAttributes({ theme: custom.theme })\n      }\n    },\n    initLanguage ({ language }) {\n      this.$i18n.locale = language || 'en'\n      setPageAttributes({ lang: this.$i18n.locale })\n    },\n    handlePictureTaken ($event) {\n      this.img = $event\n      this.showPage('customize')\n    },\n    getImageUrl (img) {\n      return img ? this.$SDK.connection.getContentCdnLocation(img) : ''\n    },\n    isVisible (...pages) {\n      return pages.includes(this.view.pageName)\n    },\n    showPage (page) {\n      this.view.pageName = page\n    },\n    openNativeCamera () {\n      this.$refs.uploader.click()\n    },\n    openBrowserCamera () {\n      this.showPage('camera')\n    },\n    handleGoBack () {\n      this.showPage('intro')\n    },\n    handleOnChange ($e) {\n      const files = $e.dataTransfer ? $e.dataTransfer.files : $e.target.files\n      if (files[0]) {\n        fixImageOrientation(files[0], (fixedImage) => {\n          const fileToUpload = fixedImage\n          this.handlePictureTaken(fileToUpload)\n        })\n      }\n    },\n    handleUpload (imgToUpload) {\n      const currentDate = new Date()\n      const content = {\n        file: new File([dataURItoBlob(imgToUpload.src)], new Date().toUTCString()),\n        type: 'image/jpeg',\n        // everyone is a special tag that allows the content to be seen by anyone\n        tags: [\n          'everyone',\n          /* TODO: decide whether to group images based on MomentClass or Moments */\n          this.$SDK.getMomentClassId(),\n          currentDate.getTime(),\n          appState.months[currentDate.getMonth()]\n        ]\n      }\n\n      this.$SDK.connection.uploadContent(content)\n        .then(res => {\n          if (!this.appState.content) {\n            this.appState.content = []\n          }\n          this.appState.content.unshift({\n            url: this.$SDK.connection.getContentCdnLocation(res.data.id)\n          })\n          this.showPage('summary')\n        })\n        .catch(err => console.error(err)) //eslint-disable-line\n    },\n    handleCTAPopup () {\n      if (!this.custom.ctaEnabled || !this.custom.cta || (!this.custom.cta.showAlways && window.sessionStorage.getItem('sc:moment:cta' + this.createdTimestamp) === 'true')) { return }\n      window.clearTimeout(this.ctaTimeout)\n      this.ctaTimeout = window.setTimeout(() => {\n        this.$refs.ctaPopup.show()\n      }, generalConfig.ctaDisplayTimeout)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import 'styles/main.scss';\n  body {\n    background-color: #171717;\n    overflow: auto;\n  }\n\n  *, *::before, *::after {\n    box-sizing: border-box;\n  }\n\n  .help-section {\n    margin-top: 10px;\n    padding: 0 16px;\n  }\n  .app-component {\n    font-size: $base-font-size;\n    line-height: $base-line-height;\n    font-family: $base-font-stack;\n    color: $base-color;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    width: 100vw;\n    min-height: 100vh;\n    overflow: auto;\n    max-width: 500px;\n    margin: 0 auto;\n  }\n\n  // Clearfix\n  .app-component::before,\n  .app-component::after {\n    content: \" \";\n    display: table;\n    clear: both;\n  }\n\n  .app-component > .inner {\n    padding: 0;\n    width: 100%;\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n  }\n\n  .app-background {\n    z-index: -1;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 100vh;\n    width: 100%;\n    background-color: rgb(61,23,239);\n    background-position: center center;\n    background-size: cover;\n    background-attachment: fixed;\n    background-repeat: no-repeat;\n    max-width: 500px;\n    margin: 0 auto;\n  }\n\n  @media screen and (max-width: 320px) {\n    .app-component > .inner {\n      padding: 0;\n    }\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=34088e28&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport i18n from './i18n'\nimport StagecastComponents from '@stagecast/moment-components'\nimport '@stagecast/moment-components/lib/moment-components.css'\nimport * as Konva from 'konva'\nimport App from './App.vue'\n\nVue.config.productionTip = false\nVue.use(StagecastComponents, {\n  i18n: (key, value = {}) => i18n.t(key, value)\n})\n\nif (window.Stagecast) {\n  Vue.prototype.$SDK = new window.Stagecast()\n  Vue.prototype.$Konva = Konva\n  Vue.prototype.$Hammer = Hammer //eslint-disable-line\n\n  new Vue({\n    i18n,\n    render: h => h(App)\n  }).$mount('#app')\n}\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=670210c8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=670210c8&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSuccess.vue?vue&type=style&index=0&id=7522fa01&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSuccess.vue?vue&type=style&index=0&id=7522fa01&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomizePicture.vue?vue&type=style&index=0&id=79c4d2b4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomizePicture.vue?vue&type=style&index=0&id=79c4d2b4&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=style&index=0&id=45d35ee4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=style&index=0&id=45d35ee4&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/collage.873f7c1e.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentGallery.vue?vue&type=style&index=0&id=3a13cb1a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentGallery.vue?vue&type=style&index=0&id=3a13cb1a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtaPopup.vue?vue&type=style&index=0&id=31b1dffc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtaPopup.vue?vue&type=style&index=0&id=31b1dffc&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditModal.vue?vue&type=style&index=0&id=46f26ccc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditModal.vue?vue&type=style&index=0&id=46f26ccc&scoped=true&lang=scss&\""],"sourceRoot":""}